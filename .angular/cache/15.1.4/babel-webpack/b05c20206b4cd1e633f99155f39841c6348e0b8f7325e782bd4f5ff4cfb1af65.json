{"ast":null,"code":"import { __decorate, __metadata, __param } from \"tslib\";\nimport { Component, Inject } from '@angular/core';\nimport { Validators, FormBuilder } from '@angular/forms';\nimport { MediaItemService } from './media-item.service';\nimport { lookupListToken } from './providers';\nimport { Router } from '@angular/router';\nlet MediaItemFormComponent = class MediaItemFormComponent {\n  constructor(formBuilder, mediaItemService, lookupLists, router) {\n    this.formBuilder = formBuilder;\n    this.mediaItemService = mediaItemService;\n    this.lookupLists = lookupLists;\n    this.router = router;\n  }\n  ngOnInit() {\n    this.form = this.formBuilder.group({\n      medium: this.formBuilder.control('Movies'),\n      name: this.formBuilder.control('', Validators.compose([Validators.required, Validators.pattern('[\\\\w\\\\-\\\\s\\\\/]+')])),\n      category: this.formBuilder.control(''),\n      year: this.formBuilder.control('', this.yearValidator)\n    });\n  }\n  yearValidator(control) {\n    if (control.value.trim().length === 0) {\n      return null;\n    }\n    const year = parseInt(control.value.trim());\n    if (year >= 1900 && year <= 2100) {\n      return null;\n    }\n    return {\n      year: {\n        min: 1900,\n        max: 2025\n      }\n    };\n  }\n  onSubmit(mediaItem) {\n    console.log(mediaItem);\n    this.mediaItemService.add(mediaItem).subscribe(() => {\n      this.router.navigate(['/', mediaItem.medium]);\n    });\n  }\n};\nMediaItemFormComponent = __decorate([Component({\n  selector: 'mw-media-item-form',\n  templateUrl: './media-item-form.component.html',\n  styleUrls: ['./media-item-form.component.css']\n}), __param(2, Inject(lookupListToken)), __metadata(\"design:paramtypes\", [FormBuilder, MediaItemService, Object, Router])], MediaItemFormComponent);\nexport { MediaItemFormComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}